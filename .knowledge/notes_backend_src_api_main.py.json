{"is_source_file": true, "format": "Python", "description": "FastAPI backend implementation with route definitions, data models, and middleware configuration for a note-taking application.", "external_files": ["fastapi", "fastapi.middleware.cors", "fastapi.security", "pydantic", "typing", "datetime"], "external_methods": ["FastAPI()", "app.add_middleware()", "Depends()", "HTTPException()", "status.HTTP_401_UNAUTHORIZED", "status.HTTP_201_CREATED", "status.HTTP_204_NO_CONTENT", "app.get()", "app.post()", "app.put()", "app.delete()"], "published": ["app", "UserCreate", "UserLogin", "UserOut", "Token", "NoteBase", "NoteCreate", "NoteUpdate", "NoteOut", "get_current_user"], "classes": [{"name": "UserCreate", "description": "Pydantic model for user sign-up"}, {"name": "UserLogin", "description": "Pydantic model for user login"}, {"name": "UserOut", "description": "Pydantic model for outputting user info"}, {"name": "Token", "description": "Pydantic model for authentication token"}, {"name": "NoteBase", "description": "Base Note properties (for creation & update)"}, {"name": "NoteCreate", "description": "Note creation model"}, {"name": "NoteUpdate", "description": "Note update request model"}, {"name": "NoteOut", "description": "Full details of a Note including metadata"}], "methods": [{"name": "UserOut get_current_user(token: str = Depends(oauth2_scheme))", "description": "Dummy dependency to get current authenticated user, raises HTTP 401 as placeholder.", "scope": "", "scopeKind": ""}, {"name": "create_note( note: NoteCreate, current_user: UserOut = Depends(get_current_user) )", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "delete_note( note_id: int, current_user: UserOut = Depends(get_current_user) )", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "get_note( note_id: int, current_user: UserOut = Depends(get_current_user) )", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "health_check()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "list_notes( q: Optional[str] = None, skip: int = 0, limit: int = 20, current_user: UserOut = Depends(get_current_user) )", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "login(user: UserLogin)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "signup(user: UserCreate)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "update_note( note_id: int, note: NoteUpdate, current_user: UserOut = Depends(get_current_user) )", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["FastAPI()", "app.add_middleware()", "Depends()", "HTTPException()", "app.get()", "app.post()", "app.put()", "app.delete()"], "search-terms": ["FastAPI route definitions", "auth token endpoint", "note CRUD endpoints", "pydantic models for user and note", "middleware configuration"], "state": 2, "file_id": 2, "knowledge_revision": 11, "git_revision": "5593b9375150a1ef93fc8b507cfe5bc47ef1bf83", "revision_history": [{"8": "9354a607b334e09cf26abf96f1982a9a5479ef19"}, {"10": "5593b9375150a1ef93fc8b507cfe5bc47ef1bf83"}, {"11": "5593b9375150a1ef93fc8b507cfe5bc47ef1bf83"}], "ctags": [{"_type": "tag", "name": "NoteBase", "path": "/home/kavia/workspace/code-generation/note-keeper-49139-49158/notes_backend/src/api/main.py", "pattern": "/^class NoteBase(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "NoteCreate", "path": "/home/kavia/workspace/code-generation/note-keeper-49139-49158/notes_backend/src/api/main.py", "pattern": "/^class NoteCreate(NoteBase):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "NoteOut", "path": "/home/kavia/workspace/code-generation/note-keeper-49139-49158/notes_backend/src/api/main.py", "pattern": "/^class NoteOut(NoteBase):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "NoteUpdate", "path": "/home/kavia/workspace/code-generation/note-keeper-49139-49158/notes_backend/src/api/main.py", "pattern": "/^class NoteUpdate(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "Token", "path": "/home/kavia/workspace/code-generation/note-keeper-49139-49158/notes_backend/src/api/main.py", "pattern": "/^class Token(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "UserCreate", "path": "/home/kavia/workspace/code-generation/note-keeper-49139-49158/notes_backend/src/api/main.py", "pattern": "/^class UserCreate(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "UserLogin", "path": "/home/kavia/workspace/code-generation/note-keeper-49139-49158/notes_backend/src/api/main.py", "pattern": "/^class UserLogin(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "UserOut", "path": "/home/kavia/workspace/code-generation/note-keeper-49139-49158/notes_backend/src/api/main.py", "pattern": "/^class UserOut(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "access_token", "path": "/home/kavia/workspace/code-generation/note-keeper-49139-49158/notes_backend/src/api/main.py", "pattern": "/^    access_token: str = Field(..., description=\"JWT access token\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "Token", "scopeKind": "class"}, {"_type": "tag", "name": "app", "path": "/home/kavia/workspace/code-generation/note-keeper-49139-49158/notes_backend/src/api/main.py", "pattern": "/^app = FastAPI($/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "content", "path": "/home/kavia/workspace/code-generation/note-keeper-49139-49158/notes_backend/src/api/main.py", "pattern": "/^    content: Optional[str] = Field(None, description=\"Body\\/content of the note\")$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "NoteUpdate", "scopeKind": "class"}, {"_type": "tag", "name": "content", "path": "/home/kavia/workspace/code-generation/note-keeper-49139-49158/notes_backend/src/api/main.py", "pattern": "/^    content: str = Field(..., description=\"Body\\/content of the note\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "NoteBase", "scopeKind": "class"}, {"_type": "tag", "name": "create_note", "path": "/home/kavia/workspace/code-generation/note-keeper-49139-49158/notes_backend/src/api/main.py", "pattern": "/^def create_note($/", "language": "Python", "kind": "function", "signature": "( note: NoteCreate, current_user: UserOut = Depends(get_current_user) )"}, {"_type": "tag", "name": "created_at", "path": "/home/kavia/workspace/code-generation/note-keeper-49139-49158/notes_backend/src/api/main.py", "pattern": "/^    created_at: Optional[datetime] = Field(None, description=\"Account creation timestamp\")$/", "language": "Python", "typeref": "typename:Optional[datetime]", "kind": "variable", "scope": "UserOut", "scopeKind": "class"}, {"_type": "tag", "name": "created_at", "path": "/home/kavia/workspace/code-generation/note-keeper-49139-49158/notes_backend/src/api/main.py", "pattern": "/^    created_at: datetime = Field(..., description=\"Creation timestamp\")$/", "language": "Python", "typeref": "typename:datetime", "kind": "variable", "scope": "NoteOut", "scopeKind": "class"}, {"_type": "tag", "name": "delete_note", "path": "/home/kavia/workspace/code-generation/note-keeper-49139-49158/notes_backend/src/api/main.py", "pattern": "/^def delete_note($/", "language": "Python", "kind": "function", "signature": "( note_id: int, current_user: UserOut = Depends(get_current_user) )"}, {"_type": "tag", "name": "email", "path": "/home/kavia/workspace/code-generation/note-keeper-49139-49158/notes_backend/src/api/main.py", "pattern": "/^    email: EmailStr = Field(..., description=\"User's email\")$/", "language": "Python", "typeref": "typename:EmailStr", "kind": "variable", "scope": "UserLogin", "scopeKind": "class"}, {"_type": "tag", "name": "email", "path": "/home/kavia/workspace/code-generation/note-keeper-49139-49158/notes_backend/src/api/main.py", "pattern": "/^    email: EmailStr = Field(..., description=\"User's unique email address\")$/", "language": "Python", "typeref": "typename:EmailStr", "kind": "variable", "scope": "UserCreate", "scopeKind": "class"}, {"_type": "tag", "name": "email", "path": "/home/kavia/workspace/code-generation/note-keeper-49139-49158/notes_backend/src/api/main.py", "pattern": "/^    email: EmailStr = Field(..., description=\"User's unique email address\")$/", "language": "Python", "typeref": "typename:EmailStr", "kind": "variable", "scope": "UserOut", "scopeKind": "class"}, {"_type": "tag", "name": "get_current_user", "path": "/home/kavia/workspace/code-generation/note-keeper-49139-49158/notes_backend/src/api/main.py", "pattern": "/^def get_current_user(token: str = Depends(oauth2_scheme)) -> UserOut:$/", "language": "Python", "typeref": "typename:UserOut", "kind": "function", "signature": "(token: str = Depends(oauth2_scheme))"}, {"_type": "tag", "name": "get_note", "path": "/home/kavia/workspace/code-generation/note-keeper-49139-49158/notes_backend/src/api/main.py", "pattern": "/^def get_note($/", "language": "Python", "kind": "function", "signature": "( note_id: int, current_user: UserOut = Depends(get_current_user) )"}, {"_type": "tag", "name": "health_check", "path": "/home/kavia/workspace/code-generation/note-keeper-49139-49158/notes_backend/src/api/main.py", "pattern": "/^def health_check():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/note-keeper-49139-49158/notes_backend/src/api/main.py", "pattern": "/^    id: int = Field(..., description=\"Note ID\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "NoteOut", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/note-keeper-49139-49158/notes_backend/src/api/main.py", "pattern": "/^    id: int = Field(..., description=\"Unique identifier of the user\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "UserOut", "scopeKind": "class"}, {"_type": "tag", "name": "list_notes", "path": "/home/kavia/workspace/code-generation/note-keeper-49139-49158/notes_backend/src/api/main.py", "pattern": "/^def list_notes($/", "language": "Python", "kind": "function", "signature": "( q: Optional[str] = None, skip: int = 0, limit: int = 20, current_user: UserOut = Depends(get_current_user) )"}, {"_type": "tag", "name": "login", "path": "/home/kavia/workspace/code-generation/note-keeper-49139-49158/notes_backend/src/api/main.py", "pattern": "/^def login(user: UserLogin):$/", "language": "Python", "kind": "function", "signature": "(user: UserLogin)"}, {"_type": "tag", "name": "oauth2_scheme", "path": "/home/kavia/workspace/code-generation/note-keeper-49139-49158/notes_backend/src/api/main.py", "pattern": "/^oauth2_scheme = OAuth2PasswordBearer(tokenUrl=\"\\/auth\\/token\")$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "owner_id", "path": "/home/kavia/workspace/code-generation/note-keeper-49139-49158/notes_backend/src/api/main.py", "pattern": "/^    owner_id: int = Field(..., description=\"ID of the user who owns this note\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "NoteOut", "scopeKind": "class"}, {"_type": "tag", "name": "password", "path": "/home/kavia/workspace/code-generation/note-keeper-49139-49158/notes_backend/src/api/main.py", "pattern": "/^    password: str = Field(..., description=\"User's password\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "UserLogin", "scopeKind": "class"}, {"_type": "tag", "name": "password", "path": "/home/kavia/workspace/code-generation/note-keeper-49139-49158/notes_backend/src/api/main.py", "pattern": "/^    password: str = Field(..., min_length=6, description=\"User's password (min 6 characters)\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "UserCreate", "scopeKind": "class"}, {"_type": "tag", "name": "signup", "path": "/home/kavia/workspace/code-generation/note-keeper-49139-49158/notes_backend/src/api/main.py", "pattern": "/^def signup(user: UserCreate):$/", "language": "Python", "kind": "function", "signature": "(user: UserCreate)"}, {"_type": "tag", "name": "title", "path": "/home/kavia/workspace/code-generation/note-keeper-49139-49158/notes_backend/src/api/main.py", "pattern": "/^    title: Optional[str] = Field(None, max_length=256, description=\"Title of the note\")$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "NoteUpdate", "scopeKind": "class"}, {"_type": "tag", "name": "title", "path": "/home/kavia/workspace/code-generation/note-keeper-49139-49158/notes_backend/src/api/main.py", "pattern": "/^    title: str = Field(..., max_length=256, description=\"Title of the note\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "NoteBase", "scopeKind": "class"}, {"_type": "tag", "name": "token_type", "path": "/home/kavia/workspace/code-generation/note-keeper-49139-49158/notes_backend/src/api/main.py", "pattern": "/^    token_type: str = Field(..., description=\"Type of token, typically 'bearer'\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "Token", "scopeKind": "class"}, {"_type": "tag", "name": "update_note", "path": "/home/kavia/workspace/code-generation/note-keeper-49139-49158/notes_backend/src/api/main.py", "pattern": "/^def update_note($/", "language": "Python", "kind": "function", "signature": "( note_id: int, note: NoteUpdate, current_user: UserOut = Depends(get_current_user) )"}, {"_type": "tag", "name": "updated_at", "path": "/home/kavia/workspace/code-generation/note-keeper-49139-49158/notes_backend/src/api/main.py", "pattern": "/^    updated_at: datetime = Field(..., description=\"Last update timestamp\")$/", "language": "Python", "typeref": "typename:datetime", "kind": "variable", "scope": "NoteOut", "scopeKind": "class"}], "hash": "3fd2d215f8ea91f30ffeffd65b7af9a2", "format-version": 4, "code-base-name": "notes_backend", "filename": "notes_backend/src/api/main.py", "fields": [{"name": "str access_token", "scope": "Token", "scopeKind": "class", "description": "unavailable"}, {"name": "app = FastAPI(", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Optional[str] content", "scope": "NoteUpdate", "scopeKind": "class", "description": "unavailable"}, {"name": "str content", "scope": "NoteBase", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[datetime] created_at", "scope": "UserOut", "scopeKind": "class", "description": "unavailable"}, {"name": "datetime created_at", "scope": "NoteOut", "scopeKind": "class", "description": "unavailable"}, {"name": "EmailStr email", "scope": "UserLogin", "scopeKind": "class", "description": "unavailable"}, {"name": "int id", "scope": "NoteOut", "scopeKind": "class", "description": "unavailable"}, {"name": "oauth2_scheme = OAuth2PasswordBearer(tokenUrl=\"\\/auth\\/token\")", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int owner_id", "scope": "NoteOut", "scopeKind": "class", "description": "unavailable"}, {"name": "str password", "scope": "UserLogin", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] title", "scope": "NoteUpdate", "scopeKind": "class", "description": "unavailable"}, {"name": "str title", "scope": "NoteBase", "scopeKind": "class", "description": "unavailable"}, {"name": "str token_type", "scope": "Token", "scopeKind": "class", "description": "unavailable"}, {"name": "datetime updated_at", "scope": "NoteOut", "scopeKind": "class", "description": "unavailable"}]}